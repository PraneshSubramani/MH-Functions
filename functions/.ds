void automation.set_participant_name(Int participant_id)
{
// Original author - Sam Prabhu
// Contributing developers:
// - Dash Bunyan
//
// @input.participant_id - The record ID for the participant
//
// assign new name
participant_name_list = List();
// get the participant record
participant_info = zoho.crm.getRecordById("Participants",participant_id);
// get the index of the record
auto_index = participant_info.get("Index");
participant_name_list.add("PAR" + auto_index);
// get the role of the record
role = participant_info.get("Role");
if(!role.isNull())
{
    participant_name_list.add(role);
}
// get the registered contact of the record
registered_contact = participant_info.get("Registered_Contact");
info registered_contact;
if(registered_contact.equals("Yes"))
{
    // get the participant-contact record
    participant_contact_info = participant_info.get("Contact");
    if(!participant_contact_info.isNull())
    {
        id = participant_contact_info.get("id");
        contact_info = zoho.crm.getRecordById("Contacts",id);
        first_name_initial = "";
        first_name = contact_info.get("First_Name");
        last_name = contact_info.get("Last_Name");
        if(!first_name.isNull())
        {
            first_name_initial = first_name.left(1) + ".";
        }
        if(!first_name.isNull() || !last_name.isNull())
        {
            participant_name_list.add(first_name_initial + last_name);
        }
    }
}
else if(registered_contact.equals("No"))
{
    first_name = participant_info.get("First_Name");
    last_name = participant_info.get("Last_Name");
    first_name_initial = "";
    if(!first_name.isNull())
    {
        first_name_initial = first_name.left(1) + ".";
    }
    if(!first_name.isNull() || !last_name.isNull())
    {
        participant_name_list.add(first_name_initial + last_name);
    }
}
// get the policy of the record
policy_info = participant_info.get("Policy");
info policy_info;
if(!policy_info.isNull())
{
    policy_id = policy_info.get("id");
    policy = zoho.crm.getRecordById("Policies",policy_id);
    policy_index = policy.get("Index");
    policy_name = "POL" + policy_index;
    participant_name_list.add(policy_name);
}
// assign new name
new_participant_name = participant_name_list.toListString().replaceAll(","," - ");